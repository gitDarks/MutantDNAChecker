{"version":3,"file":"/Users/drodr25/Desktop/MutantDNAChecker/src/modules/dna-checker/services/dna_sequence.service.ts","sources":["/Users/drodr25/Desktop/MutantDNAChecker/src/modules/dna-checker/services/dna_sequence.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,yEAAyE;AACzE,kEAAiE;AAEjE,MAAa,kBAAkB;IAChB,eAAe,CAC1B,WAA+B;;YAE/B,MAAM,WAAW,GAAG,MAAM,yBAAY,CAAC,cAAc,EAAE,CAAC;YACxD,IAAI;gBACF,MAAM,yBAAY,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;gBACjD,OAAO,CAAC,GAAG,CAAC,oCAAoC,EAAE,WAAW,CAAC,CAAC;gBAC/D,MAAM,gBAAgB,GAAG,MAAM,WAAW,CAAC,OAAO,CAAC,IAAI,CACrD,oCAAkB,EAClB,WAAW,CACZ,CAAC;gBACF,MAAM,yBAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;gBAClD,OAAO,gBAAgB,CAAC;aACzB;YAAC,OAAO,CAAC,EAAE;gBACV,MAAM,yBAAY,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC;gBACpD,MAAM,IAAI,KAAK,CAAC,2BAA2B,GAAG,CAAC,CAAC,CAAC;aAClD;QACH,CAAC;KAAA;CACF;AAnBD,gDAmBC","sourcesContent":["import { DNASequencesEntity } from \"../../core/entities/sequence.entity\";\nimport { ConnectionDB } from \"../../core/services/db/db.service\";\n\nexport class DnaSequenceService {\n  public async saveDNASequence(\n    dnaSequence: DNASequencesEntity\n  ): Promise<DNASequencesEntity> {\n    const queryRunner = await ConnectionDB.getQueryRunner();\n    try {\n      await ConnectionDB.startTransaction(queryRunner);\n      console.log(\"[INFO] queryRunner.manager.save %o\", dnaSequence);\n      const dnaSequenceSaved = await queryRunner.manager.save(\n        DNASequencesEntity,\n        dnaSequence\n      );\n      await ConnectionDB.commitTransaction(queryRunner);\n      return dnaSequenceSaved;\n    } catch (e) {\n      await ConnectionDB.rollbackTransaction(queryRunner);\n      throw new Error(\"Error saving DNA Sequence\" + e);\n    }\n  }\n}\n"]}